<!doctype html><html class=no-js lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content=Waldiez. name=description><link href="https://waldiez.github.io/waldiez/python/models/flow/" rel="canonical"><link href=../chat/ rel=prev><link href=../common/ rel=next><link href=../../static/favicon.ico rel=icon><meta content="mkdocs-1.6.1, mkdocs-material-9.5.50" name=generator><title>Flow - Waldiez</title><link href=../../assets/stylesheets/main.a40c8224.min.css rel=stylesheet><link href=../../assets/stylesheets/palette.06af60db.min.css rel=stylesheet><link href="../../assets/external/fonts.googleapis.com/css.49ea35f2.css" rel="stylesheet"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href=../../assets/_mkdocstrings.css rel=stylesheet><link href=../../static/css/main.css rel=stylesheet><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><body data-md-color-accent=blue data-md-color-primary=custom-light data-md-color-scheme=default dir=ltr><input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox><input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox><label class=md-overlay for=__drawer></label><div data-md-component=skip><a class=md-skip href=#waldiez.models.flow.flow> Skip to content </a></div><div data-md-component=announce></div><header class="md-header md-header--shadow" data-md-component=header><nav class="md-header__inner md-grid" aria-label=Header><a class="md-header__button md-logo" aria-label=Waldiez data-md-component=logo href=../.. title=Waldiez> <img alt=logo src=../../static/images/logo.svg> </a><label class="md-header__button md-icon" for=__drawer><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg></label><div class=md-header__title data-md-component=header-title><div class=md-header__ellipsis><div class=md-header__topic><span class=md-ellipsis> Waldiez </span></div><div class=md-header__topic data-md-component=header-topic><span class=md-ellipsis> Flow </span></div></div></div><form class=md-header__option data-md-component=palette><input aria-label="Switch to dark mode" data-md-color-media="(prefers-color-scheme: light)" class=md-option data-md-color-accent=blue data-md-color-primary=custom-light data-md-color-scheme=default id=__palette_0 name=__palette type=radio><label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg></label><input aria-label="Switch to light mode" data-md-color-media="(prefers-color-scheme: dark)" class=md-option data-md-color-accent=blue data-md-color-primary=custom-dark data-md-color-scheme=slate id=__palette_1 name=__palette type=radio><label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg></label></form><script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script><label class="md-header__button md-icon" for=__search><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg></label><div class=md-search data-md-component=search role=dialog><label class=md-search__overlay for=__search></label><div class=md-search__inner role=search><form class=md-search__form name=search><input aria-label=Search autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=Search required spellcheck=false type=text><label class="md-search__icon md-icon" for=__search><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg></label><nav aria-label=Search class=md-search__options><button class="md-search__icon md-icon" aria-label=Clear tabindex=-1 title=Clear type=reset><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></button></nav></form><div class=md-search__output><div class=md-search__scrollwrap data-md-scrollfix tabindex=0><div class=md-search-result data-md-component=search-result><div class=md-search-result__meta>Initializing search</div><ol class=md-search-result__list role=presentation></ol></div></div></div></div></div><div class=md-header__source><a title="Go to repository" class="md-source" data-md-component="source" href="https://github.com/waldiez/python.git"> <div class="md-source__icon md-icon"><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M2.6 10.59 8.38 4.8l1.69 1.7c-.24.85.15 1.78.93 2.23v5.54c-.6.34-1 .99-1 1.73a2 2 0 0 0 2 2 2 2 0 0 0 2-2c0-.74-.4-1.39-1-1.73V9.41l2.07 2.09c-.07.15-.07.32-.07.5a2 2 0 0 0 2 2 2 2 0 0 0 2-2 2 2 0 0 0-2-2c-.18 0-.35 0-.5.07L13.93 7.5a1.98 1.98 0 0 0-1.15-2.34c-.43-.16-.88-.2-1.28-.09L9.8 3.38l.79-.78c.78-.79 2.04-.79 2.82 0l7.99 7.99c.79.78.79 2.04 0 2.82l-7.99 7.99c-.78.79-2.04.79-2.82 0L2.6 13.41c-.79-.78-.79-2.04 0-2.82"/></svg></div> <div class=md-source__repository>waldiez/python</div> </a></div></nav></header><div class=md-container data-md-component=container><main class=md-main data-md-component=main><div class="md-main__inner md-grid"><div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0><label class=md-nav__title for=__drawer><a class="md-nav__button md-logo" aria-label=Waldiez data-md-component=logo href=../.. title=Waldiez> <img alt=logo src=../../static/images/logo.svg> </a> Waldiez</label><div class=md-nav__source><a title="Go to repository" class="md-source" data-md-component="source" href="https://github.com/waldiez/python.git"> <div class="md-source__icon md-icon"><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M2.6 10.59 8.38 4.8l1.69 1.7c-.24.85.15 1.78.93 2.23v5.54c-.6.34-1 .99-1 1.73a2 2 0 0 0 2 2 2 2 0 0 0 2-2c0-.74-.4-1.39-1-1.73V9.41l2.07 2.09c-.07.15-.07.32-.07.5a2 2 0 0 0 2 2 2 2 0 0 0 2-2 2 2 0 0 0-2-2c-.18 0-.35 0-.5.07L13.93 7.5a1.98 1.98 0 0 0-1.15-2.34c-.43-.16-.88-.2-1.28-.09L9.8 3.38l.79-.78c.78-.79 2.04-.79 2.82 0l7.99 7.99c.79.78.79 2.04 0 2.82l-7.99 7.99c-.78.79-2.04.79-2.82 0L2.6 13.41c-.79-.78-.79-2.04 0-2.82"/></svg></div> <div class=md-source__repository>waldiez/python</div> </a></div><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=../..> <span class=md-ellipsis> Waldiez </span> </a><li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"><input class="md-nav__toggle md-toggle" checked id=__nav_2 type=checkbox> <label class=md-nav__link for=__nav_2 id=__nav_2_label><span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span></label> <nav aria-expanded=true aria-labelledby=__nav_2_label class=md-nav data-md-level=1><label class=md-nav__title for=__nav_2><span class="md-nav__icon md-icon"></span> Reference</label><ul class=md-nav__list data-md-scrollfix><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-nav__toggle md-toggle" checked id=__nav_2_1 type=checkbox> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0><span class=md-ellipsis> Models </span> <span class="md-nav__icon md-icon"></span></label> <nav aria-expanded=true aria-labelledby=__nav_2_1_label class=md-nav data-md-level=2><label class=md-nav__title for=__nav_2_1><span class="md-nav__icon md-icon"></span> Models</label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=../model/> <span class=md-ellipsis> Model </span> </a><li class=md-nav__item><a class=md-nav__link href=../skill/> <span class=md-ellipsis> Skill </span> </a><li class="md-nav__item md-nav__item--nested"><input class="md-nav__toggle md-toggle" id=__nav_2_1_3 type=checkbox> <div class="md-nav__link md-nav__container"><a class=md-nav__link href=../agents/> <span class=md-ellipsis> Agents </span> </a><label class=md-nav__link for=__nav_2_1_3 id=__nav_2_1_3_label tabindex=0><span class="md-nav__icon md-icon"></span></label></div> <nav aria-expanded=false aria-labelledby=__nav_2_1_3_label class=md-nav data-md-level=3><label class=md-nav__title for=__nav_2_1_3><span class="md-nav__icon md-icon"></span> Agents</label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=../agents/agent/> <span class=md-ellipsis> Agent </span> </a><li class=md-nav__item><a class=md-nav__link href=../agents/assistant/> <span class=md-ellipsis> Assistant </span> </a><li class=md-nav__item><a class=md-nav__link href=../agents/user_proxy/> <span class=md-ellipsis> UserProxy </span> </a><li class=md-nav__item><a class=md-nav__link href=../agents/group_manager/> <span class=md-ellipsis> GroupManager </span> </a><li class=md-nav__item><a class=md-nav__link href=../agents/rag_user/> <span class=md-ellipsis> RagUser </span> </a><li class=md-nav__item><a class=md-nav__link href=../agents/swarm_agent/> <span class=md-ellipsis> SwarmAgent </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=../chat/> <span class=md-ellipsis> Chat </span> </a><li class="md-nav__item md-nav__item--active"><input class="md-nav__toggle md-toggle" id=__toc type=checkbox> <label class="md-nav__link md-nav__link--active" for=__toc><span class=md-ellipsis> Flow </span> <span class="md-nav__icon md-icon"></span></label> <a class="md-nav__link md-nav__link--active" href=./> <span class=md-ellipsis> Flow </span> </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> Table of contents</label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code> flow </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code> WaldiezFlow </span> </a> <nav aria-label= WaldiezFlow class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.get_agent_by_id> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code> get_agent_by_id </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.get_agent_connections> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code> get_agent_connections </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.get_group_chat_members> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code> get_group_chat_members </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.get_initial_swarm_agent> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code> get_initial_swarm_agent </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.get_swarm_chat_members> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code> get_swarm_chat_members </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.has_shared_skill> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code> has_shared_skill </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.is_async> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code> is_async </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.is_swarm_flow> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code> is_swarm_flow </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.ordered_flow> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code> ordered_flow </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.validate_flow> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code> validate_flow </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow_data> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code> flow_data </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow_data.WaldiezFlowData> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code> WaldiezFlowData </span> </a> <nav aria-label= WaldiezFlowData class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow_data.WaldiezFlowData.validate_flow_chats> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code> validate_flow_chats </span> </a></ul></nav></ul></nav><li class=md-nav__item><a class=md-nav__link href=../common/> <span class=md-ellipsis> Common </span> </a></ul></nav><li class="md-nav__item md-nav__item--nested"><input class="md-nav__toggle md-toggle" id=__nav_2_2 type=checkbox> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0><span class=md-ellipsis> Exporting </span> <span class="md-nav__icon md-icon"></span></label> <nav aria-expanded=false aria-labelledby=__nav_2_2_label class=md-nav data-md-level=2><label class=md-nav__title for=__nav_2_2><span class="md-nav__icon md-icon"></span> Exporting</label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=../../exporting/base/> <span class=md-ellipsis> Base </span> </a><li class=md-nav__item><a class=md-nav__link href=../../exporting/models/> <span class=md-ellipsis> Models </span> </a><li class=md-nav__item><a class=md-nav__link href=../../exporting/skills/> <span class=md-ellipsis> Skills </span> </a><li class=md-nav__item><a class=md-nav__link href=../../exporting/chats/> <span class=md-ellipsis> Chats </span> </a><li class=md-nav__item><a class=md-nav__link href=../../exporting/agents/> <span class=md-ellipsis> Agents </span> </a><li class=md-nav__item><a class=md-nav__link href=../../exporting/flow/> <span class=md-ellipsis> Flow </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=../../waldiez/> <span class=md-ellipsis> Waldiez </span> </a><li class=md-nav__item><a class=md-nav__link href=../../runner/> <span class=md-ellipsis> WaldiezRunner </span> </a><li class=md-nav__item><a class=md-nav__link href=../../exporter/> <span class=md-ellipsis> WaldiezExporter </span> </a></ul></nav></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav aria-label="Table of contents" class="md-nav md-nav--secondary"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> Table of contents</label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code> flow </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code> WaldiezFlow </span> </a> <nav aria-label= WaldiezFlow class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.get_agent_by_id> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code> get_agent_by_id </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.get_agent_connections> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code> get_agent_connections </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.get_group_chat_members> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code> get_group_chat_members </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.get_initial_swarm_agent> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code> get_initial_swarm_agent </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.get_swarm_chat_members> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code> get_swarm_chat_members </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.has_shared_skill> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code> has_shared_skill </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.is_async> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code> is_async </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.is_swarm_flow> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code> is_swarm_flow </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.ordered_flow> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code> ordered_flow </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow.WaldiezFlow.validate_flow> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code> validate_flow </span> </a></ul></nav><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow_data> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code> flow_data </span> </a><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow_data.WaldiezFlowData> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code> WaldiezFlowData </span> </a> <nav aria-label= WaldiezFlowData class=md-nav><ul class=md-nav__list><li class=md-nav__item><a class=md-nav__link href=#waldiez.models.flow.flow_data.WaldiezFlowData.validate_flow_chats> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code> validate_flow_chats </span> </a></ul></nav></ul></nav></div></div></div><div class=md-content data-md-component=content><article class="md-content__inner md-typeset"><h1>Flow</h1><div class="doc doc-object doc-module"><a id=waldiez.models.flow.flow></a><div class="doc doc-contents first"><p>Waldiez flow model.<div class="doc doc-children"><div class="doc doc-object doc-class"><h2 class="doc doc-heading" id=waldiez.models.flow.flow.WaldiezFlow><code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <code>WaldiezFlow</code> <a title="Permanent link" class=headerlink href=#waldiez.models.flow.flow.WaldiezFlow>¶</a></h2><div class="doc doc-contents"><p class="doc doc-class-bases">Bases: <code><a class="autorefs autorefs-internal" title="waldiez.models.common.WaldiezBase" href="../common/#waldiez.models.common.WaldiezBase">WaldiezBase</a></code><p>Flow data class.<p><span class=doc-section-title>Attributes:</span><table><thead><tr><th>Name<th>Type<th>Description<tbody><tr class=doc-section-item><td><code><span title="waldiez.models.flow.flow.WaldiezFlow.id">id</span></code><td><code>str</code><td><div class=doc-md-description><p>The ID of the flow.</div><tr class=doc-section-item><td><code><span title="waldiez.models.flow.flow.WaldiezFlow.type">type</span></code><td><code>(<span title="typing_extensions.Literal">Literal</span>['flow'], optional)</code><td><div class=doc-md-description><p>The type of the "node" in a graph: "flow".</div><tr class=doc-section-item><td><code><span title="waldiez.models.flow.flow.WaldiezFlow.name">name</span></code><td><code>str</code><td><div class=doc-md-description><p>The name of the flow.</div><tr class=doc-section-item><td><code><span title="waldiez.models.flow.flow.WaldiezFlow.description">description</span></code><td><code>str</code><td><div class=doc-md-description><p>The description of the flow.</div><tr class=doc-section-item><td><code><span title="waldiez.models.flow.flow.WaldiezFlow.tags">tags</span></code><td><code><span title="typing.List">List</span>[str]</code><td><div class=doc-md-description><p>The tags of the flow.</div><tr class=doc-section-item><td><code><span title="waldiez.models.flow.flow.WaldiezFlow.requirements">requirements</span></code><td><code><span title="typing.List">List</span>[str]</code><td><div class=doc-md-description><p>The requirements of the flow.</div><tr class=doc-section-item><td><code><span title="waldiez.models.flow.flow.WaldiezFlow.storage_id">storage_id</span></code><td><code>str</code><td><div class=doc-md-description><p>The storage ID of the flow (ignored, UI related).</div><tr class=doc-section-item><td><code><span title="waldiez.models.flow.flow.WaldiezFlow.created_at">created_at</span></code><td><code>str</code><td><div class=doc-md-description><p>The date and time when the flow was created.</div><tr class=doc-section-item><td><code><span title="waldiez.models.flow.flow.WaldiezFlow.updated_at">updated_at</span></code><td><code>str</code><td><div class=doc-md-description><p>The date and time when the flow was last updated.</div><tr class=doc-section-item><td><code><span title="waldiez.models.flow.flow.WaldiezFlow.data">data</span></code><td><code><a class="autorefs autorefs-internal" title="waldiez.models.flow.flow_data.WaldiezFlowData" href="#waldiez.models.flow.flow_data.WaldiezFlowData">WaldiezFlowData</a></code><td><div class=doc-md-description><p>The data of the flow. See <code>WaldiezFlowData</code>.</div></table><div class="doc doc-children"><div class="doc doc-object doc-function"><h3 class="doc doc-heading" id=waldiez.models.flow.flow.WaldiezFlow.get_agent_by_id><code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <code class="highlight language-python"><span class=n>get_agent_by_id</span><span class=p>(</span><span class=n>agent_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-></span> <span class=n>WaldiezAgent</span></code> <a title="Permanent link" class=headerlink href=#waldiez.models.flow.flow.WaldiezFlow.get_agent_by_id>¶</a></h3><div class="doc doc-contents"><p>Get the agent by ID.<p><span class=doc-section-title>Parameters:</span><table><thead><tr><th>Name<th>Type<th>Description<th>Default<tbody><tr class=doc-section-item><td><code>agent_id</code><td><code>str</code><td><div class=doc-md-description><p>The ID of the agent.</div><td><em>required</em></table><p><span class=doc-section-title>Returns:</span><table><thead><tr><th>Type<th>Description<tbody><tr class=doc-section-item><td><code><a class="autorefs autorefs-internal" title="waldiez.models.agents.WaldiezAgent" href="../agents/agent/#waldiez.models.agents.agent.agent.WaldiezAgent">WaldiezAgent</a></code><td><div class=doc-md-description><p>The agent.</div></table><p><span class=doc-section-title>Raises:</span><table><thead><tr><th>Type<th>Description<tbody><tr class=doc-section-item><td><code>ValueError</code><td><div class=doc-md-description><p>If the agent with the given ID is not found.</div></table><details class=quote><summary>Source code in <code>waldiez/models/flow/flow.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-174>174</a></span>
<span class=normal><a href=#__codelineno-0-175>175</a></span>
<span class=normal><a href=#__codelineno-0-176>176</a></span>
<span class=normal><a href=#__codelineno-0-177>177</a></span>
<span class=normal><a href=#__codelineno-0-178>178</a></span>
<span class=normal><a href=#__codelineno-0-179>179</a></span>
<span class=normal><a href=#__codelineno-0-180>180</a></span>
<span class=normal><a href=#__codelineno-0-181>181</a></span>
<span class=normal><a href=#__codelineno-0-182>182</a></span>
<span class=normal><a href=#__codelineno-0-183>183</a></span>
<span class=normal><a href=#__codelineno-0-184>184</a></span>
<span class=normal><a href=#__codelineno-0-185>185</a></span>
<span class=normal><a href=#__codelineno-0-186>186</a></span>
<span class=normal><a href=#__codelineno-0-187>187</a></span>
<span class=normal><a href=#__codelineno-0-188>188</a></span>
<span class=normal><a href=#__codelineno-0-189>189</a></span>
<span class=normal><a href=#__codelineno-0-190>190</a></span>
<span class=normal><a href=#__codelineno-0-191>191</a></span>
<span class=normal><a href=#__codelineno-0-192>192</a></span>
<span class=normal><a href=#__codelineno-0-193>193</a></span>
<span class=normal><a href=#__codelineno-0-194>194</a></span>
<span class=normal><a href=#__codelineno-0-195>195</a></span></pre></div><td class=code><div><pre><span></span><code><span id=__span-0-174><a id=__codelineno-0-174 name=__codelineno-0-174></a><span class=k>def</span><span class=w> </span><span class=nf>get_agent_by_id</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>agent_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-></span> <span class=n>WaldiezAgent</span><span class=p>:</span>
</span><span id=__span-0-175><a id=__codelineno-0-175 name=__codelineno-0-175></a><span class=w>    </span><span class=sd>"""Get the agent by ID.</span>
</span><span id=__span-0-176><a id=__codelineno-0-176 name=__codelineno-0-176></a>
</span><span id=__span-0-177><a id=__codelineno-0-177 name=__codelineno-0-177></a><span class=sd>    Parameters</span>
</span><span id=__span-0-178><a id=__codelineno-0-178 name=__codelineno-0-178></a><span class=sd>    ----------</span>
</span><span id=__span-0-179><a id=__codelineno-0-179 name=__codelineno-0-179></a><span class=sd>    agent_id : str</span>
</span><span id=__span-0-180><a id=__codelineno-0-180 name=__codelineno-0-180></a><span class=sd>        The ID of the agent.</span>
</span><span id=__span-0-181><a id=__codelineno-0-181 name=__codelineno-0-181></a>
</span><span id=__span-0-182><a id=__codelineno-0-182 name=__codelineno-0-182></a><span class=sd>    Returns</span>
</span><span id=__span-0-183><a id=__codelineno-0-183 name=__codelineno-0-183></a><span class=sd>    -------</span>
</span><span id=__span-0-184><a id=__codelineno-0-184 name=__codelineno-0-184></a><span class=sd>    WaldiezAgent</span>
</span><span id=__span-0-185><a id=__codelineno-0-185 name=__codelineno-0-185></a><span class=sd>        The agent.</span>
</span><span id=__span-0-186><a id=__codelineno-0-186 name=__codelineno-0-186></a>
</span><span id=__span-0-187><a id=__codelineno-0-187 name=__codelineno-0-187></a><span class=sd>    Raises</span>
</span><span id=__span-0-188><a id=__codelineno-0-188 name=__codelineno-0-188></a><span class=sd>    ------</span>
</span><span id=__span-0-189><a id=__codelineno-0-189 name=__codelineno-0-189></a><span class=sd>    ValueError</span>
</span><span id=__span-0-190><a id=__codelineno-0-190 name=__codelineno-0-190></a><span class=sd>        If the agent with the given ID is not found.</span>
</span><span id=__span-0-191><a id=__codelineno-0-191 name=__codelineno-0-191></a><span class=sd>    """</span>
</span><span id=__span-0-192><a id=__codelineno-0-192 name=__codelineno-0-192></a>    <span class=k>for</span> <span class=n>agent</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>agents</span><span class=o>.</span><span class=n>members</span><span class=p>:</span>
</span><span id=__span-0-193><a id=__codelineno-0-193 name=__codelineno-0-193></a>        <span class=k>if</span> <span class=n>agent</span><span class=o>.</span><span class=n>id</span> <span class=o>==</span> <span class=n>agent_id</span><span class=p>:</span>
</span><span id=__span-0-194><a id=__codelineno-0-194 name=__codelineno-0-194></a>            <span class=k>return</span> <span class=n>agent</span>
</span><span id=__span-0-195><a id=__codelineno-0-195 name=__codelineno-0-195></a>    <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>"Agent with ID </span><span class=si>{</span><span class=n>agent_id</span><span class=si>}</span><span class=s2> not found."</span><span class=p>)</span>
</span></code></pre></div></table></div></details></div></div><div class="doc doc-object doc-function"><h3 class="doc doc-heading" id=waldiez.models.flow.flow.WaldiezFlow.get_agent_connections><code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <code class="highlight language-python"><span class=n>get_agent_connections</span><span class=p>(</span><span class=n>agent_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>all_chats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span> <span class=o>-></span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span></code> <a title="Permanent link" class=headerlink href=#waldiez.models.flow.flow.WaldiezFlow.get_agent_connections>¶</a></h3><div class="doc doc-contents"><p>Get the agent connections.<p><span class=doc-section-title>Parameters:</span><table><thead><tr><th>Name<th>Type<th>Description<th>Default<tbody><tr class=doc-section-item><td><code>agent_id</code><td><code>str</code><td><div class=doc-md-description><p>The ID of the agent.</div><td><em>required</em><tr class=doc-section-item><td><code>all_chats</code><td><code>bool</code><td><div class=doc-md-description><p>If True, get the connections from all the chats, otherwise get the connections from the ordered flow (main chat flow).</div><td><code>True</code></table><p><span class=doc-section-title>Returns:</span><table><thead><tr><th>Type<th>Description<tbody><tr class=doc-section-item><td><code><span title="typing.List">List</span>[str]</code><td><div class=doc-md-description><p>The list of agent ids that the agent with the given ID connects to.</div></table><details class=quote><summary>Source code in <code>waldiez/models/flow/flow.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-277>277</a></span>
<span class=normal><a href=#__codelineno-0-278>278</a></span>
<span class=normal><a href=#__codelineno-0-279>279</a></span>
<span class=normal><a href=#__codelineno-0-280>280</a></span>
<span class=normal><a href=#__codelineno-0-281>281</a></span>
<span class=normal><a href=#__codelineno-0-282>282</a></span>
<span class=normal><a href=#__codelineno-0-283>283</a></span>
<span class=normal><a href=#__codelineno-0-284>284</a></span>
<span class=normal><a href=#__codelineno-0-285>285</a></span>
<span class=normal><a href=#__codelineno-0-286>286</a></span>
<span class=normal><a href=#__codelineno-0-287>287</a></span>
<span class=normal><a href=#__codelineno-0-288>288</a></span>
<span class=normal><a href=#__codelineno-0-289>289</a></span>
<span class=normal><a href=#__codelineno-0-290>290</a></span>
<span class=normal><a href=#__codelineno-0-291>291</a></span>
<span class=normal><a href=#__codelineno-0-292>292</a></span>
<span class=normal><a href=#__codelineno-0-293>293</a></span>
<span class=normal><a href=#__codelineno-0-294>294</a></span>
<span class=normal><a href=#__codelineno-0-295>295</a></span>
<span class=normal><a href=#__codelineno-0-296>296</a></span>
<span class=normal><a href=#__codelineno-0-297>297</a></span>
<span class=normal><a href=#__codelineno-0-298>298</a></span>
<span class=normal><a href=#__codelineno-0-299>299</a></span>
<span class=normal><a href=#__codelineno-0-300>300</a></span>
<span class=normal><a href=#__codelineno-0-301>301</a></span>
<span class=normal><a href=#__codelineno-0-302>302</a></span>
<span class=normal><a href=#__codelineno-0-303>303</a></span>
<span class=normal><a href=#__codelineno-0-304>304</a></span>
<span class=normal><a href=#__codelineno-0-305>305</a></span>
<span class=normal><a href=#__codelineno-0-306>306</a></span>
<span class=normal><a href=#__codelineno-0-307>307</a></span>
<span class=normal><a href=#__codelineno-0-308>308</a></span></pre></div><td class=code><div><pre><span></span><code><span id=__span-0-277><a id=__codelineno-0-277 name=__codelineno-0-277></a><span class=k>def</span><span class=w> </span><span class=nf>get_agent_connections</span><span class=p>(</span>
</span><span id=__span-0-278><a id=__codelineno-0-278 name=__codelineno-0-278></a>    <span class=bp>self</span><span class=p>,</span> <span class=n>agent_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>all_chats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-279><a id=__codelineno-0-279 name=__codelineno-0-279></a><span class=p>)</span> <span class=o>-></span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
</span><span id=__span-0-280><a id=__codelineno-0-280 name=__codelineno-0-280></a><span class=w>    </span><span class=sd>"""Get the agent connections.</span>
</span><span id=__span-0-281><a id=__codelineno-0-281 name=__codelineno-0-281></a>
</span><span id=__span-0-282><a id=__codelineno-0-282 name=__codelineno-0-282></a><span class=sd>    Parameters</span>
</span><span id=__span-0-283><a id=__codelineno-0-283 name=__codelineno-0-283></a><span class=sd>    ----------</span>
</span><span id=__span-0-284><a id=__codelineno-0-284 name=__codelineno-0-284></a><span class=sd>    agent_id : str</span>
</span><span id=__span-0-285><a id=__codelineno-0-285 name=__codelineno-0-285></a><span class=sd>        The ID of the agent.</span>
</span><span id=__span-0-286><a id=__codelineno-0-286 name=__codelineno-0-286></a><span class=sd>    all_chats : bool, optional</span>
</span><span id=__span-0-287><a id=__codelineno-0-287 name=__codelineno-0-287></a><span class=sd>        If True, get the connections from all the chats, otherwise</span>
</span><span id=__span-0-288><a id=__codelineno-0-288 name=__codelineno-0-288></a><span class=sd>        get the connections from the ordered flow (main chat flow).</span>
</span><span id=__span-0-289><a id=__codelineno-0-289 name=__codelineno-0-289></a>
</span><span id=__span-0-290><a id=__codelineno-0-290 name=__codelineno-0-290></a><span class=sd>    Returns</span>
</span><span id=__span-0-291><a id=__codelineno-0-291 name=__codelineno-0-291></a><span class=sd>    -------</span>
</span><span id=__span-0-292><a id=__codelineno-0-292 name=__codelineno-0-292></a><span class=sd>    List[str]</span>
</span><span id=__span-0-293><a id=__codelineno-0-293 name=__codelineno-0-293></a><span class=sd>        The list of agent ids that the agent with the given ID connects to.</span>
</span><span id=__span-0-294><a id=__codelineno-0-294 name=__codelineno-0-294></a><span class=sd>    """</span>
</span><span id=__span-0-295><a id=__codelineno-0-295 name=__codelineno-0-295></a>    <span class=n>connections</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-296><a id=__codelineno-0-296 name=__codelineno-0-296></a>    <span class=k>if</span> <span class=n>all_chats</span><span class=p>:</span>
</span><span id=__span-0-297><a id=__codelineno-0-297 name=__codelineno-0-297></a>        <span class=k>for</span> <span class=n>chat</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>chats</span><span class=p>:</span>
</span><span id=__span-0-298><a id=__codelineno-0-298 name=__codelineno-0-298></a>            <span class=k>if</span> <span class=n>chat</span><span class=o>.</span><span class=n>source</span> <span class=o>==</span> <span class=n>agent_id</span><span class=p>:</span>
</span><span id=__span-0-299><a id=__codelineno-0-299 name=__codelineno-0-299></a>                <span class=n>connections</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>chat</span><span class=o>.</span><span class=n>target</span><span class=p>)</span>
</span><span id=__span-0-300><a id=__codelineno-0-300 name=__codelineno-0-300></a>            <span class=k>if</span> <span class=n>chat</span><span class=o>.</span><span class=n>target</span> <span class=o>==</span> <span class=n>agent_id</span><span class=p>:</span>
</span><span id=__span-0-301><a id=__codelineno-0-301 name=__codelineno-0-301></a>                <span class=n>connections</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>chat</span><span class=o>.</span><span class=n>source</span><span class=p>)</span>
</span><span id=__span-0-302><a id=__codelineno-0-302 name=__codelineno-0-302></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-303><a id=__codelineno-0-303 name=__codelineno-0-303></a>        <span class=k>for</span> <span class=n>_</span><span class=p>,</span> <span class=n>source</span><span class=p>,</span> <span class=n>target</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>ordered_flow</span><span class=p>:</span>
</span><span id=__span-0-304><a id=__codelineno-0-304 name=__codelineno-0-304></a>            <span class=k>if</span> <span class=n>source</span><span class=o>.</span><span class=n>id</span> <span class=o>==</span> <span class=n>agent_id</span><span class=p>:</span>
</span><span id=__span-0-305><a id=__codelineno-0-305 name=__codelineno-0-305></a>                <span class=n>connections</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>target</span><span class=o>.</span><span class=n>id</span><span class=p>)</span>
</span><span id=__span-0-306><a id=__codelineno-0-306 name=__codelineno-0-306></a>            <span class=k>if</span> <span class=n>target</span><span class=o>.</span><span class=n>id</span> <span class=o>==</span> <span class=n>agent_id</span><span class=p>:</span>
</span><span id=__span-0-307><a id=__codelineno-0-307 name=__codelineno-0-307></a>                <span class=n>connections</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>source</span><span class=o>.</span><span class=n>id</span><span class=p>)</span>
</span><span id=__span-0-308><a id=__codelineno-0-308 name=__codelineno-0-308></a>    <span class=k>return</span> <span class=n>connections</span>
</span></code></pre></div></table></div></details></div></div><div class="doc doc-object doc-function"><h3 class="doc doc-heading" id=waldiez.models.flow.flow.WaldiezFlow.get_group_chat_members><code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <code class="highlight language-python"><span class=n>get_group_chat_members</span><span class=p>(</span><span class=n>group_manager_id</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-></span> <span class=n>List</span><span class=p>[</span><span class=n>WaldiezAgent</span><span class=p>]</span></code> <a title="Permanent link" class=headerlink href=#waldiez.models.flow.flow.WaldiezFlow.get_group_chat_members>¶</a></h3><div class="doc doc-contents"><p>Get the group chat members.<p><span class=doc-section-title>Parameters:</span><table><thead><tr><th>Name<th>Type<th>Description<th>Default<tbody><tr class=doc-section-item><td><code>group_manager_id</code><td><code>str</code><td><div class=doc-md-description><p>The ID of the group manager.</div><td><em>required</em></table><p><span class=doc-section-title>Returns:</span><table><thead><tr><th>Type<th>Description<tbody><tr class=doc-section-item><td><code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="waldiez.models.agents.WaldiezAgent" href="../agents/agent/#waldiez.models.agents.agent.agent.WaldiezAgent">WaldiezAgent</a>]</code><td><div class=doc-md-description><p>The list of group chat</div></table><details class=quote><summary>Source code in <code>waldiez/models/flow/flow.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-310>310</a></span>
<span class=normal><a href=#__codelineno-0-311>311</a></span>
<span class=normal><a href=#__codelineno-0-312>312</a></span>
<span class=normal><a href=#__codelineno-0-313>313</a></span>
<span class=normal><a href=#__codelineno-0-314>314</a></span>
<span class=normal><a href=#__codelineno-0-315>315</a></span>
<span class=normal><a href=#__codelineno-0-316>316</a></span>
<span class=normal><a href=#__codelineno-0-317>317</a></span>
<span class=normal><a href=#__codelineno-0-318>318</a></span>
<span class=normal><a href=#__codelineno-0-319>319</a></span>
<span class=normal><a href=#__codelineno-0-320>320</a></span>
<span class=normal><a href=#__codelineno-0-321>321</a></span>
<span class=normal><a href=#__codelineno-0-322>322</a></span>
<span class=normal><a href=#__codelineno-0-323>323</a></span>
<span class=normal><a href=#__codelineno-0-324>324</a></span>
<span class=normal><a href=#__codelineno-0-325>325</a></span>
<span class=normal><a href=#__codelineno-0-326>326</a></span>
<span class=normal><a href=#__codelineno-0-327>327</a></span>
<span class=normal><a href=#__codelineno-0-328>328</a></span>
<span class=normal><a href=#__codelineno-0-329>329</a></span>
<span class=normal><a href=#__codelineno-0-330>330</a></span>
<span class=normal><a href=#__codelineno-0-331>331</a></span>
<span class=normal><a href=#__codelineno-0-332>332</a></span></pre></div><td class=code><div><pre><span></span><code><span id=__span-0-310><a id=__codelineno-0-310 name=__codelineno-0-310></a><span class=k>def</span><span class=w> </span><span class=nf>get_group_chat_members</span><span class=p>(</span>
</span><span id=__span-0-311><a id=__codelineno-0-311 name=__codelineno-0-311></a>    <span class=bp>self</span><span class=p>,</span> <span class=n>group_manager_id</span><span class=p>:</span> <span class=nb>str</span>
</span><span id=__span-0-312><a id=__codelineno-0-312 name=__codelineno-0-312></a><span class=p>)</span> <span class=o>-></span> <span class=n>List</span><span class=p>[</span><span class=n>WaldiezAgent</span><span class=p>]:</span>
</span><span id=__span-0-313><a id=__codelineno-0-313 name=__codelineno-0-313></a><span class=w>    </span><span class=sd>"""Get the group chat members.</span>
</span><span id=__span-0-314><a id=__codelineno-0-314 name=__codelineno-0-314></a>
</span><span id=__span-0-315><a id=__codelineno-0-315 name=__codelineno-0-315></a><span class=sd>    Parameters</span>
</span><span id=__span-0-316><a id=__codelineno-0-316 name=__codelineno-0-316></a><span class=sd>    ----------</span>
</span><span id=__span-0-317><a id=__codelineno-0-317 name=__codelineno-0-317></a><span class=sd>    group_manager_id : str</span>
</span><span id=__span-0-318><a id=__codelineno-0-318 name=__codelineno-0-318></a><span class=sd>        The ID of the group manager.</span>
</span><span id=__span-0-319><a id=__codelineno-0-319 name=__codelineno-0-319></a>
</span><span id=__span-0-320><a id=__codelineno-0-320 name=__codelineno-0-320></a><span class=sd>    Returns</span>
</span><span id=__span-0-321><a id=__codelineno-0-321 name=__codelineno-0-321></a><span class=sd>    -------</span>
</span><span id=__span-0-322><a id=__codelineno-0-322 name=__codelineno-0-322></a><span class=sd>    List[WaldiezAgent]</span>
</span><span id=__span-0-323><a id=__codelineno-0-323 name=__codelineno-0-323></a><span class=sd>        The list of group chat</span>
</span><span id=__span-0-324><a id=__codelineno-0-324 name=__codelineno-0-324></a><span class=sd>    """</span>
</span><span id=__span-0-325><a id=__codelineno-0-325 name=__codelineno-0-325></a>    <span class=n>agent</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_agent_by_id</span><span class=p>(</span><span class=n>group_manager_id</span><span class=p>)</span>
</span><span id=__span-0-326><a id=__codelineno-0-326 name=__codelineno-0-326></a>    <span class=k>if</span> <span class=n>agent</span><span class=o>.</span><span class=n>agent_type</span> <span class=o>!=</span> <span class=s2>"manager"</span><span class=p>:</span>
</span><span id=__span-0-327><a id=__codelineno-0-327 name=__codelineno-0-327></a>        <span class=k>return</span> <span class=p>[]</span>
</span><span id=__span-0-328><a id=__codelineno-0-328 name=__codelineno-0-328></a>    <span class=n>connections</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_agent_connections</span><span class=p>(</span>
</span><span id=__span-0-329><a id=__codelineno-0-329 name=__codelineno-0-329></a>        <span class=n>group_manager_id</span><span class=p>,</span>
</span><span id=__span-0-330><a id=__codelineno-0-330 name=__codelineno-0-330></a>        <span class=n>all_chats</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-0-331><a id=__codelineno-0-331 name=__codelineno-0-331></a>    <span class=p>)</span>
</span><span id=__span-0-332><a id=__codelineno-0-332 name=__codelineno-0-332></a>    <span class=k>return</span> <span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>get_agent_by_id</span><span class=p>(</span><span class=n>member_id</span><span class=p>)</span> <span class=k>for</span> <span class=n>member_id</span> <span class=ow>in</span> <span class=n>connections</span><span class=p>]</span>
</span></code></pre></div></table></div></details></div></div><div class="doc doc-object doc-function"><h3 class="doc doc-heading" id=waldiez.models.flow.flow.WaldiezFlow.get_initial_swarm_agent><code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <code class="highlight language-python"><span class=n>get_initial_swarm_agent</span><span class=p>()</span> <span class=o>-></span> <span class=n>Optional</span><span class=p>[</span><span class=n>WaldiezAgent</span><span class=p>]</span></code> <a title="Permanent link" class=headerlink href=#waldiez.models.flow.flow.WaldiezFlow.get_initial_swarm_agent>¶</a></h3><div class="doc doc-contents"><p>Get the initial swarm agent.<p><span class=doc-section-title>Returns:</span><table><thead><tr><th>Type<th>Description<tbody><tr class=doc-section-item><td><code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="waldiez.models.agents.WaldiezAgent" href="../agents/agent/#waldiez.models.agents.agent.agent.WaldiezAgent">WaldiezAgent</a>]</code><td><div class=doc-md-description><p>The initial swarm agent if found, None otherwise.</div></table><details class=quote><summary>Source code in <code>waldiez/models/flow/flow.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-334>334</a></span>
<span class=normal><a href=#__codelineno-0-335>335</a></span>
<span class=normal><a href=#__codelineno-0-336>336</a></span>
<span class=normal><a href=#__codelineno-0-337>337</a></span>
<span class=normal><a href=#__codelineno-0-338>338</a></span>
<span class=normal><a href=#__codelineno-0-339>339</a></span>
<span class=normal><a href=#__codelineno-0-340>340</a></span>
<span class=normal><a href=#__codelineno-0-341>341</a></span>
<span class=normal><a href=#__codelineno-0-342>342</a></span>
<span class=normal><a href=#__codelineno-0-343>343</a></span>
<span class=normal><a href=#__codelineno-0-344>344</a></span>
<span class=normal><a href=#__codelineno-0-345>345</a></span>
<span class=normal><a href=#__codelineno-0-346>346</a></span>
<span class=normal><a href=#__codelineno-0-347>347</a></span>
<span class=normal><a href=#__codelineno-0-348>348</a></span>
<span class=normal><a href=#__codelineno-0-349>349</a></span>
<span class=normal><a href=#__codelineno-0-350>350</a></span>
<span class=normal><a href=#__codelineno-0-351>351</a></span>
<span class=normal><a href=#__codelineno-0-352>352</a></span>
<span class=normal><a href=#__codelineno-0-353>353</a></span>
<span class=normal><a href=#__codelineno-0-354>354</a></span>
<span class=normal><a href=#__codelineno-0-355>355</a></span>
<span class=normal><a href=#__codelineno-0-356>356</a></span>
<span class=normal><a href=#__codelineno-0-357>357</a></span>
<span class=normal><a href=#__codelineno-0-358>358</a></span>
<span class=normal><a href=#__codelineno-0-359>359</a></span>
<span class=normal><a href=#__codelineno-0-360>360</a></span></pre></div><td class=code><div><pre><span></span><code><span id=__span-0-334><a id=__codelineno-0-334 name=__codelineno-0-334></a><span class=k>def</span><span class=w> </span><span class=nf>get_initial_swarm_agent</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-></span> <span class=n>Optional</span><span class=p>[</span><span class=n>WaldiezAgent</span><span class=p>]:</span>
</span><span id=__span-0-335><a id=__codelineno-0-335 name=__codelineno-0-335></a><span class=w>    </span><span class=sd>"""Get the initial swarm agent.</span>
</span><span id=__span-0-336><a id=__codelineno-0-336 name=__codelineno-0-336></a>
</span><span id=__span-0-337><a id=__codelineno-0-337 name=__codelineno-0-337></a><span class=sd>    Returns</span>
</span><span id=__span-0-338><a id=__codelineno-0-338 name=__codelineno-0-338></a><span class=sd>    -------</span>
</span><span id=__span-0-339><a id=__codelineno-0-339 name=__codelineno-0-339></a><span class=sd>    Optional[WaldiezAgent]</span>
</span><span id=__span-0-340><a id=__codelineno-0-340 name=__codelineno-0-340></a><span class=sd>        The initial swarm agent if found, None otherwise.</span>
</span><span id=__span-0-341><a id=__codelineno-0-341 name=__codelineno-0-341></a><span class=sd>    """</span>
</span><span id=__span-0-342><a id=__codelineno-0-342 name=__codelineno-0-342></a>    <span class=n>fallback_agent</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-343><a id=__codelineno-0-343 name=__codelineno-0-343></a>    <span class=k>for</span> <span class=n>chat</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>chats</span><span class=p>:</span>
</span><span id=__span-0-344><a id=__codelineno-0-344 name=__codelineno-0-344></a>        <span class=n>source_agent</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_agent_by_id</span><span class=p>(</span><span class=n>chat</span><span class=o>.</span><span class=n>source</span><span class=p>)</span>
</span><span id=__span-0-345><a id=__codelineno-0-345 name=__codelineno-0-345></a>        <span class=n>target_agent</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_agent_by_id</span><span class=p>(</span><span class=n>chat</span><span class=o>.</span><span class=n>target</span><span class=p>)</span>
</span><span id=__span-0-346><a id=__codelineno-0-346 name=__codelineno-0-346></a>        <span class=k>if</span> <span class=p>(</span>
</span><span id=__span-0-347><a id=__codelineno-0-347 name=__codelineno-0-347></a>            <span class=n>target_agent</span><span class=o>.</span><span class=n>agent_type</span> <span class=o>==</span> <span class=s2>"swarm"</span>
</span><span id=__span-0-348><a id=__codelineno-0-348 name=__codelineno-0-348></a>            <span class=ow>and</span> <span class=n>source_agent</span><span class=o>.</span><span class=n>agent_type</span> <span class=o>!=</span> <span class=s2>"swarm"</span>
</span><span id=__span-0-349><a id=__codelineno-0-349 name=__codelineno-0-349></a>        <span class=p>):</span>
</span><span id=__span-0-350><a id=__codelineno-0-350 name=__codelineno-0-350></a>            <span class=k>return</span> <span class=n>target_agent</span>
</span><span id=__span-0-351><a id=__codelineno-0-351 name=__codelineno-0-351></a>        <span class=k>if</span> <span class=p>(</span>
</span><span id=__span-0-352><a id=__codelineno-0-352 name=__codelineno-0-352></a>            <span class=n>source_agent</span><span class=o>.</span><span class=n>agent_type</span> <span class=o>==</span> <span class=s2>"swarm"</span>
</span><span id=__span-0-353><a id=__codelineno-0-353 name=__codelineno-0-353></a>            <span class=ow>and</span> <span class=n>target_agent</span><span class=o>.</span><span class=n>agent_type</span> <span class=o>==</span> <span class=s2>"swarm"</span>
</span><span id=__span-0-354><a id=__codelineno-0-354 name=__codelineno-0-354></a>        <span class=p>):</span>
</span><span id=__span-0-355><a id=__codelineno-0-355 name=__codelineno-0-355></a>            <span class=n>fallback_agent</span> <span class=o>=</span> <span class=n>source_agent</span>
</span><span id=__span-0-356><a id=__codelineno-0-356 name=__codelineno-0-356></a>            <span class=k>break</span>
</span><span id=__span-0-357><a id=__codelineno-0-357 name=__codelineno-0-357></a>    <span class=k>for</span> <span class=n>swarm_agent</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>agents</span><span class=o>.</span><span class=n>swarm_agents</span><span class=p>:</span>
</span><span id=__span-0-358><a id=__codelineno-0-358 name=__codelineno-0-358></a>        <span class=k>if</span> <span class=n>swarm_agent</span><span class=o>.</span><span class=n>is_initial</span><span class=p>:</span>
</span><span id=__span-0-359><a id=__codelineno-0-359 name=__codelineno-0-359></a>            <span class=k>return</span> <span class=n>swarm_agent</span>
</span><span id=__span-0-360><a id=__codelineno-0-360 name=__codelineno-0-360></a>    <span class=k>return</span> <span class=n>fallback_agent</span>
</span></code></pre></div></table></div></details></div></div><div class="doc doc-object doc-function"><h3 class="doc doc-heading" id=waldiez.models.flow.flow.WaldiezFlow.get_swarm_chat_members><code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <code class="highlight language-python"><span class=n>get_swarm_chat_members</span><span class=p>(</span><span class=n>initial_agent</span><span class=p>:</span> <span class=n>WaldiezAgent</span><span class=p>)</span> <span class=o>-></span> <span class=n>Tuple</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=n>WaldiezAgent</span><span class=p>],</span> <span class=n>Optional</span><span class=p>[</span><span class=n>WaldiezAgent</span><span class=p>]]</span></code> <a title="Permanent link" class=headerlink href=#waldiez.models.flow.flow.WaldiezFlow.get_swarm_chat_members>¶</a></h3><div class="doc doc-contents"><p>Get the swarm chat members.<p><span class=doc-section-title>Parameters:</span><table><thead><tr><th>Name<th>Type<th>Description<th>Default<tbody><tr class=doc-section-item><td><code>initial_agent</code><td><code><a class="autorefs autorefs-internal" title="waldiez.models.agents.WaldiezAgent" href="../agents/agent/#waldiez.models.agents.agent.agent.WaldiezAgent">WaldiezAgent</a></code><td><div class=doc-md-description><p>The initial agent.</div><td><em>required</em></table><p><span class=doc-section-title>Returns:</span><table><thead><tr><th>Type<th>Description<tbody><tr class=doc-section-item><td><code><span title="typing.Tuple">Tuple</span>[<span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="waldiez.models.agents.WaldiezAgent" href="../agents/agent/#waldiez.models.agents.agent.agent.WaldiezAgent">WaldiezAgent</a>], <span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="waldiez.models.agents.WaldiezAgent" href="../agents/agent/#waldiez.models.agents.agent.agent.WaldiezAgent">WaldiezAgent</a>]]</code><td><div class=doc-md-description><p>The list of swarm chat members and the user agent if any.</div></table><details class=quote><summary>Source code in <code>waldiez/models/flow/flow.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-362>362</a></span>
<span class=normal><a href=#__codelineno-0-363>363</a></span>
<span class=normal><a href=#__codelineno-0-364>364</a></span>
<span class=normal><a href=#__codelineno-0-365>365</a></span>
<span class=normal><a href=#__codelineno-0-366>366</a></span>
<span class=normal><a href=#__codelineno-0-367>367</a></span>
<span class=normal><a href=#__codelineno-0-368>368</a></span>
<span class=normal><a href=#__codelineno-0-369>369</a></span>
<span class=normal><a href=#__codelineno-0-370>370</a></span>
<span class=normal><a href=#__codelineno-0-371>371</a></span>
<span class=normal><a href=#__codelineno-0-372>372</a></span>
<span class=normal><a href=#__codelineno-0-373>373</a></span>
<span class=normal><a href=#__codelineno-0-374>374</a></span>
<span class=normal><a href=#__codelineno-0-375>375</a></span>
<span class=normal><a href=#__codelineno-0-376>376</a></span>
<span class=normal><a href=#__codelineno-0-377>377</a></span>
<span class=normal><a href=#__codelineno-0-378>378</a></span>
<span class=normal><a href=#__codelineno-0-379>379</a></span>
<span class=normal><a href=#__codelineno-0-380>380</a></span>
<span class=normal><a href=#__codelineno-0-381>381</a></span>
<span class=normal><a href=#__codelineno-0-382>382</a></span>
<span class=normal><a href=#__codelineno-0-383>383</a></span>
<span class=normal><a href=#__codelineno-0-384>384</a></span>
<span class=normal><a href=#__codelineno-0-385>385</a></span>
<span class=normal><a href=#__codelineno-0-386>386</a></span>
<span class=normal><a href=#__codelineno-0-387>387</a></span>
<span class=normal><a href=#__codelineno-0-388>388</a></span>
<span class=normal><a href=#__codelineno-0-389>389</a></span>
<span class=normal><a href=#__codelineno-0-390>390</a></span>
<span class=normal><a href=#__codelineno-0-391>391</a></span>
<span class=normal><a href=#__codelineno-0-392>392</a></span>
<span class=normal><a href=#__codelineno-0-393>393</a></span>
<span class=normal><a href=#__codelineno-0-394>394</a></span>
<span class=normal><a href=#__codelineno-0-395>395</a></span>
<span class=normal><a href=#__codelineno-0-396>396</a></span>
<span class=normal><a href=#__codelineno-0-397>397</a></span>
<span class=normal><a href=#__codelineno-0-398>398</a></span>
<span class=normal><a href=#__codelineno-0-399>399</a></span>
<span class=normal><a href=#__codelineno-0-400>400</a></span>
<span class=normal><a href=#__codelineno-0-401>401</a></span></pre></div><td class=code><div><pre><span></span><code><span id=__span-0-362><a id=__codelineno-0-362 name=__codelineno-0-362></a><span class=k>def</span><span class=w> </span><span class=nf>get_swarm_chat_members</span><span class=p>(</span>
</span><span id=__span-0-363><a id=__codelineno-0-363 name=__codelineno-0-363></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-364><a id=__codelineno-0-364 name=__codelineno-0-364></a>    <span class=n>initial_agent</span><span class=p>:</span> <span class=n>WaldiezAgent</span><span class=p>,</span>
</span><span id=__span-0-365><a id=__codelineno-0-365 name=__codelineno-0-365></a><span class=p>)</span> <span class=o>-></span> <span class=n>Tuple</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=n>WaldiezAgent</span><span class=p>],</span> <span class=n>Optional</span><span class=p>[</span><span class=n>WaldiezAgent</span><span class=p>]]:</span>
</span><span id=__span-0-366><a id=__codelineno-0-366 name=__codelineno-0-366></a><span class=w>    </span><span class=sd>"""Get the swarm chat members.</span>
</span><span id=__span-0-367><a id=__codelineno-0-367 name=__codelineno-0-367></a>
</span><span id=__span-0-368><a id=__codelineno-0-368 name=__codelineno-0-368></a><span class=sd>    Parameters</span>
</span><span id=__span-0-369><a id=__codelineno-0-369 name=__codelineno-0-369></a><span class=sd>    ----------</span>
</span><span id=__span-0-370><a id=__codelineno-0-370 name=__codelineno-0-370></a><span class=sd>    initial_agent : WaldiezAgent</span>
</span><span id=__span-0-371><a id=__codelineno-0-371 name=__codelineno-0-371></a><span class=sd>        The initial agent.</span>
</span><span id=__span-0-372><a id=__codelineno-0-372 name=__codelineno-0-372></a>
</span><span id=__span-0-373><a id=__codelineno-0-373 name=__codelineno-0-373></a><span class=sd>    Returns</span>
</span><span id=__span-0-374><a id=__codelineno-0-374 name=__codelineno-0-374></a><span class=sd>    -------</span>
</span><span id=__span-0-375><a id=__codelineno-0-375 name=__codelineno-0-375></a><span class=sd>    Tuple[List[WaldiezAgent], Optional[WaldiezAgent]]</span>
</span><span id=__span-0-376><a id=__codelineno-0-376 name=__codelineno-0-376></a><span class=sd>        The list of swarm chat members and the user agent if any.</span>
</span><span id=__span-0-377><a id=__codelineno-0-377 name=__codelineno-0-377></a><span class=sd>    """</span>
</span><span id=__span-0-378><a id=__codelineno-0-378 name=__codelineno-0-378></a>    <span class=k>if</span> <span class=n>initial_agent</span><span class=o>.</span><span class=n>agent_type</span> <span class=o>!=</span> <span class=s2>"swarm"</span><span class=p>:</span>
</span><span id=__span-0-379><a id=__codelineno-0-379 name=__codelineno-0-379></a>        <span class=k>return</span> <span class=p>[],</span> <span class=kc>None</span>
</span><span id=__span-0-380><a id=__codelineno-0-380 name=__codelineno-0-380></a>    <span class=n>members</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>WaldiezAgent</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span><span class=n>initial_agent</span><span class=p>]</span>
</span><span id=__span-0-381><a id=__codelineno-0-381 name=__codelineno-0-381></a>    <span class=n>user_agent</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>WaldiezAgent</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-382><a id=__codelineno-0-382 name=__codelineno-0-382></a>    <span class=n>visited_agents</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>
</span><span id=__span-0-383><a id=__codelineno-0-383 name=__codelineno-0-383></a>    <span class=n>visited_agents</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>initial_agent</span><span class=o>.</span><span class=n>id</span><span class=p>)</span>
</span><span id=__span-0-384><a id=__codelineno-0-384 name=__codelineno-0-384></a>    <span class=n>connections</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_agent_connections</span><span class=p>(</span>
</span><span id=__span-0-385><a id=__codelineno-0-385 name=__codelineno-0-385></a>        <span class=n>initial_agent</span><span class=o>.</span><span class=n>id</span><span class=p>,</span>
</span><span id=__span-0-386><a id=__codelineno-0-386 name=__codelineno-0-386></a>        <span class=n>all_chats</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-0-387><a id=__codelineno-0-387 name=__codelineno-0-387></a>    <span class=p>)</span>
</span><span id=__span-0-388><a id=__codelineno-0-388 name=__codelineno-0-388></a>    <span class=k>while</span> <span class=n>connections</span><span class=p>:</span>
</span><span id=__span-0-389><a id=__codelineno-0-389 name=__codelineno-0-389></a>        <span class=n>agent_id</span> <span class=o>=</span> <span class=n>connections</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span><span id=__span-0-390><a id=__codelineno-0-390 name=__codelineno-0-390></a>        <span class=k>if</span> <span class=n>agent_id</span> <span class=ow>in</span> <span class=n>visited_agents</span><span class=p>:</span>
</span><span id=__span-0-391><a id=__codelineno-0-391 name=__codelineno-0-391></a>            <span class=k>continue</span>
</span><span id=__span-0-392><a id=__codelineno-0-392 name=__codelineno-0-392></a>        <span class=n>agent</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_agent_by_id</span><span class=p>(</span><span class=n>agent_id</span><span class=p>)</span>
</span><span id=__span-0-393><a id=__codelineno-0-393 name=__codelineno-0-393></a>        <span class=n>visited_agents</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>agent_id</span><span class=p>)</span>
</span><span id=__span-0-394><a id=__codelineno-0-394 name=__codelineno-0-394></a>        <span class=k>if</span> <span class=n>agent</span><span class=o>.</span><span class=n>agent_type</span> <span class=o>==</span> <span class=s2>"swarm"</span><span class=p>:</span>
</span><span id=__span-0-395><a id=__codelineno-0-395 name=__codelineno-0-395></a>            <span class=n>members</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>agent</span><span class=p>)</span>
</span><span id=__span-0-396><a id=__codelineno-0-396 name=__codelineno-0-396></a>            <span class=n>connections</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span>
</span><span id=__span-0-397><a id=__codelineno-0-397 name=__codelineno-0-397></a>                <span class=bp>self</span><span class=o>.</span><span class=n>get_agent_connections</span><span class=p>(</span><span class=n>agent_id</span><span class=p>,</span> <span class=n>all_chats</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-398><a id=__codelineno-0-398 name=__codelineno-0-398></a>            <span class=p>)</span>
</span><span id=__span-0-399><a id=__codelineno-0-399 name=__codelineno-0-399></a>        <span class=k>if</span> <span class=n>agent</span><span class=o>.</span><span class=n>agent_type</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>"user"</span><span class=p>,</span> <span class=s2>"rag_user"</span><span class=p>]</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>user_agent</span><span class=p>:</span>
</span><span id=__span-0-400><a id=__codelineno-0-400 name=__codelineno-0-400></a>            <span class=n>user_agent</span> <span class=o>=</span> <span class=n>agent</span>
</span><span id=__span-0-401><a id=__codelineno-0-401 name=__codelineno-0-401></a>    <span class=k>return</span> <span class=n>members</span><span class=p>,</span> <span class=n>user_agent</span>
</span></code></pre></div></table></div></details></div></div><div class="doc doc-object doc-attribute"><h3 class="doc doc-heading" id=waldiez.models.flow.flow.WaldiezFlow.has_shared_skill><code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>has_shared_skill</span><span class=p>:</span> <span class=nb>bool</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a title="Permanent link" class=headerlink href=#waldiez.models.flow.flow.WaldiezFlow.has_shared_skill>¶</a></h3><div class="doc doc-contents"><p>Check if the flow has a skill with shared variables (global).<p><span class=doc-section-title>Returns:</span><table><thead><tr><th>Type<th>Description<tbody><tr class=doc-section-item><td><code>bool</code><td><div class=doc-md-description><p>True if the flow has shared skills, False otherwise.</div></table></div></div><div class="doc doc-object doc-attribute"><h3 class="doc doc-heading" id=waldiez.models.flow.flow.WaldiezFlow.is_async><code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>is_async</span><span class=p>:</span> <span class=nb>bool</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a title="Permanent link" class=headerlink href=#waldiez.models.flow.flow.WaldiezFlow.is_async>¶</a></h3><div class="doc doc-contents"><p>Check if the flow is asynchronous.<p><span class=doc-section-title>Returns:</span><table><thead><tr><th>Type<th>Description<tbody><tr class=doc-section-item><td><code>bool</code><td><div class=doc-md-description><p>True if the flow is asynchronous, False otherwise.</div></table></div></div><div class="doc doc-object doc-attribute"><h3 class="doc doc-heading" id=waldiez.models.flow.flow.WaldiezFlow.is_swarm_flow><code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>is_swarm_flow</span><span class=p>:</span> <span class=nb>bool</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a title="Permanent link" class=headerlink href=#waldiez.models.flow.flow.WaldiezFlow.is_swarm_flow>¶</a></h3><div class="doc doc-contents"><p>Check if the flow is a swarm flow.<p><span class=doc-section-title>Returns:</span><table><thead><tr><th>Type<th>Description<tbody><tr class=doc-section-item><td><code>bool</code><td><div class=doc-md-description><p>True if the flow is a swarm flow, False otherwise.</div></table></div></div><div class="doc doc-object doc-attribute"><h3 class="doc doc-heading" id=waldiez.models.flow.flow.WaldiezFlow.ordered_flow><code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>ordered_flow</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>Tuple</span><span class=p>[</span><span class=n>WaldiezChat</span><span class=p>,</span> <span class=n>WaldiezAgent</span><span class=p>,</span> <span class=n>WaldiezAgent</span><span class=p>]]</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a title="Permanent link" class=headerlink href=#waldiez.models.flow.flow.WaldiezFlow.ordered_flow>¶</a></h3><div class="doc doc-contents"><p>Get the ordered flow.</div></div><div class="doc doc-object doc-function"><h3 class="doc doc-heading" id=waldiez.models.flow.flow.WaldiezFlow.validate_flow><code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <code class="highlight language-python"><span class=n>validate_flow</span><span class=p>()</span> <span class=o>-></span> <span class=n>Self</span></code> <a title="Permanent link" class=headerlink href=#waldiez.models.flow.flow.WaldiezFlow.validate_flow>¶</a></h3><div class="doc doc-contents"><p>Flow validation.<ul><li>unique node ids<li>there are at least two agents<li>all the agents connect to at least one other agent<li>all the linked agent skills are found in the flow<li>all the linked agent models are found in the flow<li>all the managers have at least one member in the chat group<li>the ordered flow (chats with position >=0) is not empty<li>all agents' code execution config functions exist in the flow skills<li>if swarm flow, there is at least one swarm agent<li>if swarm flow, there is an initial swarm agent</ul><p><span class=doc-section-title>Returns:</span><table><thead><tr><th>Type<th>Description<tbody><tr class=doc-section-item><td><code><a class="autorefs autorefs-internal" title="waldiez.models.flow.flow.WaldiezFlow" href="#waldiez.models.flow.flow.WaldiezFlow">WaldiezFlow</a></code><td><div class=doc-md-description><p>The validated flow.</div></table><p><span class=doc-section-title>Raises:</span><table><thead><tr><th>Type<th>Description<tbody><tr class=doc-section-item><td><code>ValueError</code><td><div class=doc-md-description><p>If the ordered flow is empty. If the model IDs are not unique. If the skill IDs are not unique. If the agents do not connect to any other node. If the manager's group chat has no members.</div></table><details class=quote><summary>Source code in <code>waldiez/models/flow/flow.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-414>414</a></span>
<span class=normal><a href=#__codelineno-0-415>415</a></span>
<span class=normal><a href=#__codelineno-0-416>416</a></span>
<span class=normal><a href=#__codelineno-0-417>417</a></span>
<span class=normal><a href=#__codelineno-0-418>418</a></span>
<span class=normal><a href=#__codelineno-0-419>419</a></span>
<span class=normal><a href=#__codelineno-0-420>420</a></span>
<span class=normal><a href=#__codelineno-0-421>421</a></span>
<span class=normal><a href=#__codelineno-0-422>422</a></span>
<span class=normal><a href=#__codelineno-0-423>423</a></span>
<span class=normal><a href=#__codelineno-0-424>424</a></span>
<span class=normal><a href=#__codelineno-0-425>425</a></span>
<span class=normal><a href=#__codelineno-0-426>426</a></span>
<span class=normal><a href=#__codelineno-0-427>427</a></span>
<span class=normal><a href=#__codelineno-0-428>428</a></span>
<span class=normal><a href=#__codelineno-0-429>429</a></span>
<span class=normal><a href=#__codelineno-0-430>430</a></span>
<span class=normal><a href=#__codelineno-0-431>431</a></span>
<span class=normal><a href=#__codelineno-0-432>432</a></span>
<span class=normal><a href=#__codelineno-0-433>433</a></span>
<span class=normal><a href=#__codelineno-0-434>434</a></span>
<span class=normal><a href=#__codelineno-0-435>435</a></span>
<span class=normal><a href=#__codelineno-0-436>436</a></span>
<span class=normal><a href=#__codelineno-0-437>437</a></span>
<span class=normal><a href=#__codelineno-0-438>438</a></span>
<span class=normal><a href=#__codelineno-0-439>439</a></span>
<span class=normal><a href=#__codelineno-0-440>440</a></span>
<span class=normal><a href=#__codelineno-0-441>441</a></span>
<span class=normal><a href=#__codelineno-0-442>442</a></span>
<span class=normal><a href=#__codelineno-0-443>443</a></span>
<span class=normal><a href=#__codelineno-0-444>444</a></span>
<span class=normal><a href=#__codelineno-0-445>445</a></span>
<span class=normal><a href=#__codelineno-0-446>446</a></span>
<span class=normal><a href=#__codelineno-0-447>447</a></span>
<span class=normal><a href=#__codelineno-0-448>448</a></span>
<span class=normal><a href=#__codelineno-0-449>449</a></span>
<span class=normal><a href=#__codelineno-0-450>450</a></span>
<span class=normal><a href=#__codelineno-0-451>451</a></span>
<span class=normal><a href=#__codelineno-0-452>452</a></span>
<span class=normal><a href=#__codelineno-0-453>453</a></span>
<span class=normal><a href=#__codelineno-0-454>454</a></span>
<span class=normal><a href=#__codelineno-0-455>455</a></span>
<span class=normal><a href=#__codelineno-0-456>456</a></span>
<span class=normal><a href=#__codelineno-0-457>457</a></span>
<span class=normal><a href=#__codelineno-0-458>458</a></span>
<span class=normal><a href=#__codelineno-0-459>459</a></span>
<span class=normal><a href=#__codelineno-0-460>460</a></span></pre></div><td class=code><div><pre><span></span><code><span id=__span-0-414><a id=__codelineno-0-414 name=__codelineno-0-414></a><span class=nd>@model_validator</span><span class=p>(</span><span class=n>mode</span><span class=o>=</span><span class=s2>"after"</span><span class=p>)</span>
</span><span id=__span-0-415><a id=__codelineno-0-415 name=__codelineno-0-415></a><span class=k>def</span><span class=w> </span><span class=nf>validate_flow</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-></span> <span class=n>Self</span><span class=p>:</span>
</span><span id=__span-0-416><a id=__codelineno-0-416 name=__codelineno-0-416></a><span class=w>    </span><span class=sd>"""Flow validation.</span>
</span><span id=__span-0-417><a id=__codelineno-0-417 name=__codelineno-0-417></a>
</span><span id=__span-0-418><a id=__codelineno-0-418 name=__codelineno-0-418></a><span class=sd>    - unique node ids</span>
</span><span id=__span-0-419><a id=__codelineno-0-419 name=__codelineno-0-419></a><span class=sd>    - there are at least two agents</span>
</span><span id=__span-0-420><a id=__codelineno-0-420 name=__codelineno-0-420></a><span class=sd>    - all the agents connect to at least one other agent</span>
</span><span id=__span-0-421><a id=__codelineno-0-421 name=__codelineno-0-421></a><span class=sd>    - all the linked agent skills are found in the flow</span>
</span><span id=__span-0-422><a id=__codelineno-0-422 name=__codelineno-0-422></a><span class=sd>    - all the linked agent models are found in the flow</span>
</span><span id=__span-0-423><a id=__codelineno-0-423 name=__codelineno-0-423></a><span class=sd>    - all the managers have at least one member in the chat group</span>
</span><span id=__span-0-424><a id=__codelineno-0-424 name=__codelineno-0-424></a><span class=sd>    - the ordered flow (chats with position >=0) is not empty</span>
</span><span id=__span-0-425><a id=__codelineno-0-425 name=__codelineno-0-425></a><span class=sd>    - all agents' code execution config functions exist in the flow skills</span>
</span><span id=__span-0-426><a id=__codelineno-0-426 name=__codelineno-0-426></a><span class=sd>    - if swarm flow, there is at least one swarm agent</span>
</span><span id=__span-0-427><a id=__codelineno-0-427 name=__codelineno-0-427></a><span class=sd>    - if swarm flow, there is an initial swarm agent</span>
</span><span id=__span-0-428><a id=__codelineno-0-428 name=__codelineno-0-428></a>
</span><span id=__span-0-429><a id=__codelineno-0-429 name=__codelineno-0-429></a><span class=sd>    Returns</span>
</span><span id=__span-0-430><a id=__codelineno-0-430 name=__codelineno-0-430></a><span class=sd>    -------</span>
</span><span id=__span-0-431><a id=__codelineno-0-431 name=__codelineno-0-431></a><span class=sd>    WaldiezFlow</span>
</span><span id=__span-0-432><a id=__codelineno-0-432 name=__codelineno-0-432></a><span class=sd>        The validated flow.</span>
</span><span id=__span-0-433><a id=__codelineno-0-433 name=__codelineno-0-433></a>
</span><span id=__span-0-434><a id=__codelineno-0-434 name=__codelineno-0-434></a><span class=sd>    Raises</span>
</span><span id=__span-0-435><a id=__codelineno-0-435 name=__codelineno-0-435></a><span class=sd>    ------</span>
</span><span id=__span-0-436><a id=__codelineno-0-436 name=__codelineno-0-436></a><span class=sd>    ValueError</span>
</span><span id=__span-0-437><a id=__codelineno-0-437 name=__codelineno-0-437></a><span class=sd>        If the ordered flow is empty.</span>
</span><span id=__span-0-438><a id=__codelineno-0-438 name=__codelineno-0-438></a><span class=sd>        If the model IDs are not unique.</span>
</span><span id=__span-0-439><a id=__codelineno-0-439 name=__codelineno-0-439></a><span class=sd>        If the skill IDs are not unique.</span>
</span><span id=__span-0-440><a id=__codelineno-0-440 name=__codelineno-0-440></a><span class=sd>        If the agents do not connect to any other node.</span>
</span><span id=__span-0-441><a id=__codelineno-0-441 name=__codelineno-0-441></a><span class=sd>        If the manager's group chat has no members.</span>
</span><span id=__span-0-442><a id=__codelineno-0-442 name=__codelineno-0-442></a><span class=sd>    """</span>
</span><span id=__span-0-443><a id=__codelineno-0-443 name=__codelineno-0-443></a>    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>ordered_flow</span><span class=p>:</span>
</span><span id=__span-0-444><a id=__codelineno-0-444 name=__codelineno-0-444></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>"The ordered flow is empty."</span><span class=p>)</span>
</span><span id=__span-0-445><a id=__codelineno-0-445 name=__codelineno-0-445></a>    <span class=n>model_ids</span> <span class=o>=</span> <span class=p>[</span><span class=n>model</span><span class=o>.</span><span class=n>id</span> <span class=k>for</span> <span class=n>model</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>models</span><span class=p>]</span>
</span><span id=__span-0-446><a id=__codelineno-0-446 name=__codelineno-0-446></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>model_ids</span><span class=p>)</span> <span class=o>!=</span> <span class=nb>len</span><span class=p>(</span><span class=nb>set</span><span class=p>(</span><span class=n>model_ids</span><span class=p>)):</span>
</span><span id=__span-0-447><a id=__codelineno-0-447 name=__codelineno-0-447></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>"Model IDs must be unique."</span><span class=p>)</span>
</span><span id=__span-0-448><a id=__codelineno-0-448 name=__codelineno-0-448></a>    <span class=n>skills_ids</span> <span class=o>=</span> <span class=p>[</span><span class=n>skill</span><span class=o>.</span><span class=n>id</span> <span class=k>for</span> <span class=n>skill</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>skills</span><span class=p>]</span>
</span><span id=__span-0-449><a id=__codelineno-0-449 name=__codelineno-0-449></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>skills_ids</span><span class=p>)</span> <span class=o>!=</span> <span class=nb>len</span><span class=p>(</span><span class=nb>set</span><span class=p>(</span><span class=n>skills_ids</span><span class=p>)):</span>
</span><span id=__span-0-450><a id=__codelineno-0-450 name=__codelineno-0-450></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>"Skill IDs must be unique."</span><span class=p>)</span>
</span><span id=__span-0-451><a id=__codelineno-0-451 name=__codelineno-0-451></a>    <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>agents</span><span class=o>.</span><span class=n>validate_flow</span><span class=p>(</span><span class=n>model_ids</span><span class=p>,</span> <span class=n>skills_ids</span><span class=p>)</span>
</span><span id=__span-0-452><a id=__codelineno-0-452 name=__codelineno-0-452></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_validate_agent_connections</span><span class=p>()</span>
</span><span id=__span-0-453><a id=__codelineno-0-453 name=__codelineno-0-453></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>is_swarm_flow</span><span class=p>:</span>
</span><span id=__span-0-454><a id=__codelineno-0-454 name=__codelineno-0-454></a>        <span class=k>for</span> <span class=n>swarm_agent</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>agents</span><span class=o>.</span><span class=n>swarm_agents</span><span class=p>:</span>
</span><span id=__span-0-455><a id=__codelineno-0-455 name=__codelineno-0-455></a>            <span class=n>check_handoff_to_nested_chat</span><span class=p>(</span>
</span><span id=__span-0-456><a id=__codelineno-0-456 name=__codelineno-0-456></a>                <span class=n>swarm_agent</span><span class=p>,</span>
</span><span id=__span-0-457><a id=__codelineno-0-457 name=__codelineno-0-457></a>                <span class=n>all_agents</span><span class=o>=</span><span class=nb>list</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>agents</span><span class=o>.</span><span class=n>members</span><span class=p>),</span>
</span><span id=__span-0-458><a id=__codelineno-0-458 name=__codelineno-0-458></a>                <span class=n>all_chats</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>chats</span><span class=p>,</span>
</span><span id=__span-0-459><a id=__codelineno-0-459 name=__codelineno-0-459></a>            <span class=p>)</span>
</span><span id=__span-0-460><a id=__codelineno-0-460 name=__codelineno-0-460></a>    <span class=k>return</span> <span class=bp>self</span>
</span></code></pre></div></table></div></details></div></div></div></div></div></div></div></div><div class="doc doc-object doc-module"><a id=waldiez.models.flow.flow_data></a><div class="doc doc-contents first"><p>Waldiez flow data.<div class="doc doc-children"><div class="doc doc-object doc-class"><h2 class="doc doc-heading" id=waldiez.models.flow.flow_data.WaldiezFlowData><code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <code>WaldiezFlowData</code> <a title="Permanent link" class=headerlink href=#waldiez.models.flow.flow_data.WaldiezFlowData>¶</a></h2><div class="doc doc-contents"><p class="doc doc-class-bases">Bases: <code><a class="autorefs autorefs-internal" title="waldiez.models.common.WaldiezBase" href="../common/#waldiez.models.common.WaldiezBase">WaldiezBase</a></code><p>Flow data class.<p><span class=doc-section-title>Attributes:</span><table><thead><tr><th>Name<th>Type<th>Description<tbody><tr class=doc-section-item><td><code><span title="waldiez.models.flow.flow_data.WaldiezFlowData.nodes">nodes</span></code><td><code><span title="typing.List">List</span>[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]]</code><td><div class=doc-md-description><p>The nodes of the flow. We ignore this (UI-related)</div><tr class=doc-section-item><td><code><span title="waldiez.models.flow.flow_data.WaldiezFlowData.edges">edges</span></code><td><code><span title="typing.List">List</span>[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]]</code><td><div class=doc-md-description><p>The edges of the flow. We ignore this (UI-related)</div><tr class=doc-section-item><td><code><span title="waldiez.models.flow.flow_data.WaldiezFlowData.viewport">viewport</span></code><td><code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code><td><div class=doc-md-description><p>The viewport of the flow. We ignore this (UI-related)</div><tr class=doc-section-item><td><code><span title="waldiez.models.flow.flow_data.WaldiezFlowData.agents">agents</span></code><td><code><a class="autorefs autorefs-internal" title="waldiez.models.agents.WaldiezAgents" href="../agents/#waldiez.models.agents.agents.WaldiezAgents">WaldiezAgents</a></code><td><div class=doc-md-description><p>The agents of the flow: users: List[WaldiezUserProxy] assistants: List[WaldiezAssistant] managers: List[WaldiezGroupManager] rag_users : List[WaldiezRagUser] See <code>WaldiezAgents</code> for more info.</div><tr class=doc-section-item><td><code><span title="waldiez.models.flow.flow_data.WaldiezFlowData.models">models</span></code><td><code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="waldiez.models.model.WaldiezModel" href="../model/#waldiez.models.model.model.WaldiezModel">WaldiezModel</a>]</code><td><div class=doc-md-description><p>The models of the flow. See <code>WaldiezModel</code>.</div><tr class=doc-section-item><td><code><span title="waldiez.models.flow.flow_data.WaldiezFlowData.skills">skills</span></code><td><code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="waldiez.models.skill.WaldiezSkill" href="../skill/#waldiez.models.skill.skill.WaldiezSkill">WaldiezSkill</a>]</code><td><div class=doc-md-description><p>The skills of the flow. See <code>WaldiezSkill</code>.</div><tr class=doc-section-item><td><code><span title="waldiez.models.flow.flow_data.WaldiezFlowData.chats">chats</span></code><td><code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="waldiez.models.chat.WaldiezChat" href="../chat/#waldiez.models.chat.chat.WaldiezChat">WaldiezChat</a>]</code><td><div class=doc-md-description><p>The chats of the flow. See <code>WaldiezChat</code>.</div><tr class=doc-section-item><td><code><span title="waldiez.models.flow.flow_data.WaldiezFlowData.is_async">is_async</span></code><td><code>bool</code><td><div class=doc-md-description><p>Whether the flow is asynchronous or not.</div></table><div class="doc doc-children"><div class="doc doc-object doc-function"><h3 class="doc doc-heading" id=waldiez.models.flow.flow_data.WaldiezFlowData.validate_flow_chats><code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <code class="highlight language-python"><span class=n>validate_flow_chats</span><span class=p>()</span> <span class=o>-></span> <span class=n>Self</span></code> <a title="Permanent link" class=headerlink href=#waldiez.models.flow.flow_data.WaldiezFlowData.validate_flow_chats>¶</a></h3><div class="doc doc-contents"><p>Validate the flow chats.<p><span class=doc-section-title>Returns:</span><table><thead><tr><th>Type<th>Description<tbody><tr class=doc-section-item><td><code><a class="autorefs autorefs-internal" title="waldiez.models.flow.flow_data.WaldiezFlowData" href="#waldiez.models.flow.flow_data.WaldiezFlowData">WaldiezFlowData</a></code><td><div class=doc-md-description><p>The flow data.</div></table><p><span class=doc-section-title>Raises:</span><table><thead><tr><th>Type<th>Description<tbody><tr class=doc-section-item><td><code>ValueError</code><td><div class=doc-md-description><p>If there is a chat with a prerequisite that does not exist.</div></table><details class=quote><summary>Source code in <code>waldiez/models/flow/flow_data.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span>
<span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span>
<span class=normal><a href=#__codelineno-0-129>129</a></span>
<span class=normal><a href=#__codelineno-0-130>130</a></span>
<span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span>
<span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span>
<span class=normal><a href=#__codelineno-0-137>137</a></span>
<span class=normal><a href=#__codelineno-0-138>138</a></span>
<span class=normal><a href=#__codelineno-0-139>139</a></span>
<span class=normal><a href=#__codelineno-0-140>140</a></span>
<span class=normal><a href=#__codelineno-0-141>141</a></span>
<span class=normal><a href=#__codelineno-0-142>142</a></span>
<span class=normal><a href=#__codelineno-0-143>143</a></span>
<span class=normal><a href=#__codelineno-0-144>144</a></span>
<span class=normal><a href=#__codelineno-0-145>145</a></span>
<span class=normal><a href=#__codelineno-0-146>146</a></span>
<span class=normal><a href=#__codelineno-0-147>147</a></span>
<span class=normal><a href=#__codelineno-0-148>148</a></span>
<span class=normal><a href=#__codelineno-0-149>149</a></span>
<span class=normal><a href=#__codelineno-0-150>150</a></span>
<span class=normal><a href=#__codelineno-0-151>151</a></span>
<span class=normal><a href=#__codelineno-0-152>152</a></span>
<span class=normal><a href=#__codelineno-0-153>153</a></span>
<span class=normal><a href=#__codelineno-0-154>154</a></span>
<span class=normal><a href=#__codelineno-0-155>155</a></span>
<span class=normal><a href=#__codelineno-0-156>156</a></span>
<span class=normal><a href=#__codelineno-0-157>157</a></span>
<span class=normal><a href=#__codelineno-0-158>158</a></span>
<span class=normal><a href=#__codelineno-0-159>159</a></span>
<span class=normal><a href=#__codelineno-0-160>160</a></span>
<span class=normal><a href=#__codelineno-0-161>161</a></span>
<span class=normal><a href=#__codelineno-0-162>162</a></span></pre></div><td class=code><div><pre><span></span><code><span id=__span-0-113><a id=__codelineno-0-113 name=__codelineno-0-113></a><span class=nd>@model_validator</span><span class=p>(</span><span class=n>mode</span><span class=o>=</span><span class=s2>"after"</span><span class=p>)</span>
</span><span id=__span-0-114><a id=__codelineno-0-114 name=__codelineno-0-114></a><span class=k>def</span><span class=w> </span><span class=nf>validate_flow_chats</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-></span> <span class=n>Self</span><span class=p>:</span>
</span><span id=__span-0-115><a id=__codelineno-0-115 name=__codelineno-0-115></a><span class=w>    </span><span class=sd>"""Validate the flow chats.</span>
</span><span id=__span-0-116><a id=__codelineno-0-116 name=__codelineno-0-116></a>
</span><span id=__span-0-117><a id=__codelineno-0-117 name=__codelineno-0-117></a><span class=sd>    Returns</span>
</span><span id=__span-0-118><a id=__codelineno-0-118 name=__codelineno-0-118></a><span class=sd>    -------</span>
</span><span id=__span-0-119><a id=__codelineno-0-119 name=__codelineno-0-119></a><span class=sd>    WaldiezFlowData</span>
</span><span id=__span-0-120><a id=__codelineno-0-120 name=__codelineno-0-120></a><span class=sd>        The flow data.</span>
</span><span id=__span-0-121><a id=__codelineno-0-121 name=__codelineno-0-121></a>
</span><span id=__span-0-122><a id=__codelineno-0-122 name=__codelineno-0-122></a><span class=sd>    Raises</span>
</span><span id=__span-0-123><a id=__codelineno-0-123 name=__codelineno-0-123></a><span class=sd>    ------</span>
</span><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124></a><span class=sd>    ValueError</span>
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125></a><span class=sd>        If there is a chat with a prerequisite that does not exist.</span>
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126></a><span class=sd>    """</span>
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127></a>    <span class=bp>self</span><span class=o>.</span><span class=n>chats</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>chats</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>.</span><span class=n>order</span><span class=p>)</span>
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128></a>    <span class=c1># in async, ag2 uses the "chat_id" field (and it must be an int):</span>
</span><span id=__span-0-129><a id=__codelineno-0-129 name=__codelineno-0-129></a>    <span class=c1># ```</span>
</span><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130></a>    <span class=c1>#    prerequisites = []</span>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a>    <span class=c1>#    for chat_info in chat_queue:</span>
</span><span id=__span-0-132><a id=__codelineno-0-132 name=__codelineno-0-132></a>    <span class=c1>#        if "chat_id" not in chat_info:</span>
</span><span id=__span-0-133><a id=__codelineno-0-133 name=__codelineno-0-133></a>    <span class=c1>#            raise ValueError(</span>
</span><span id=__span-0-134><a id=__codelineno-0-134 name=__codelineno-0-134></a>    <span class=c1>#               "Each chat must have a unique id for "</span>
</span><span id=__span-0-135><a id=__codelineno-0-135 name=__codelineno-0-135></a>    <span class=c1>#               "async multi-chat execution."</span>
</span><span id=__span-0-136><a id=__codelineno-0-136 name=__codelineno-0-136></a>    <span class=c1>#            )</span>
</span><span id=__span-0-137><a id=__codelineno-0-137 name=__codelineno-0-137></a>    <span class=c1>#     chat_id = chat_info["chat_id"]</span>
</span><span id=__span-0-138><a id=__codelineno-0-138 name=__codelineno-0-138></a>    <span class=c1>#     pre_chats = chat_info.get("prerequisites", [])</span>
</span><span id=__span-0-139><a id=__codelineno-0-139 name=__codelineno-0-139></a>    <span class=c1>#     for pre_chat_id in pre_chats:</span>
</span><span id=__span-0-140><a id=__codelineno-0-140 name=__codelineno-0-140></a>    <span class=c1>#         if not isinstance(pre_chat_id, int):</span>
</span><span id=__span-0-141><a id=__codelineno-0-141 name=__codelineno-0-141></a>    <span class=c1>#             raise ValueError("Prerequisite chat id is not int.")</span>
</span><span id=__span-0-142><a id=__codelineno-0-142 name=__codelineno-0-142></a>    <span class=c1>#         prerequisites.append((chat_id, pre_chat_id))</span>
</span><span id=__span-0-143><a id=__codelineno-0-143 name=__codelineno-0-143></a>    <span class=c1>#    return prerequisites</span>
</span><span id=__span-0-144><a id=__codelineno-0-144 name=__codelineno-0-144></a>    <span class=c1># ```</span>
</span><span id=__span-0-145><a id=__codelineno-0-145 name=__codelineno-0-145></a>    <span class=n>id_to_chat_id</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-0-146><a id=__codelineno-0-146 name=__codelineno-0-146></a>    <span class=k>for</span> <span class=n>index</span><span class=p>,</span> <span class=n>chat</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>chats</span><span class=p>):</span>
</span><span id=__span-0-147><a id=__codelineno-0-147 name=__codelineno-0-147></a>        <span class=n>id_to_chat_id</span><span class=p>[</span><span class=n>chat</span><span class=o>.</span><span class=n>id</span><span class=p>]</span> <span class=o>=</span> <span class=n>index</span>
</span><span id=__span-0-148><a id=__codelineno-0-148 name=__codelineno-0-148></a>        <span class=n>chat</span><span class=o>.</span><span class=n>set_chat_id</span><span class=p>(</span><span class=n>index</span><span class=p>)</span>
</span><span id=__span-0-149><a id=__codelineno-0-149 name=__codelineno-0-149></a>    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>is_async</span><span class=p>:</span>
</span><span id=__span-0-150><a id=__codelineno-0-150 name=__codelineno-0-150></a>        <span class=k>return</span> <span class=bp>self</span>
</span><span id=__span-0-151><a id=__codelineno-0-151 name=__codelineno-0-151></a>    <span class=c1># also update the chat prerequisites (if async)</span>
</span><span id=__span-0-152><a id=__codelineno-0-152 name=__codelineno-0-152></a>    <span class=c1>#  we have ids(str), not chat_ids(int)</span>
</span><span id=__span-0-153><a id=__codelineno-0-153 name=__codelineno-0-153></a>    <span class=k>for</span> <span class=n>chat</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>chats</span><span class=p>:</span>
</span><span id=__span-0-154><a id=__codelineno-0-154 name=__codelineno-0-154></a>        <span class=n>chat_prerequisites</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-155><a id=__codelineno-0-155 name=__codelineno-0-155></a>        <span class=k>for</span> <span class=n>chat_id</span> <span class=ow>in</span> <span class=n>chat</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>prerequisites</span><span class=p>:</span>
</span><span id=__span-0-156><a id=__codelineno-0-156 name=__codelineno-0-156></a>            <span class=k>if</span> <span class=n>chat_id</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>id_to_chat_id</span><span class=p>:</span>  <span class=c1># pragma: no cover</span>
</span><span id=__span-0-157><a id=__codelineno-0-157 name=__codelineno-0-157></a>                <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
</span><span id=__span-0-158><a id=__codelineno-0-158 name=__codelineno-0-158></a>                    <span class=sa>f</span><span class=s2>"Chat with id </span><span class=si>{</span><span class=n>chat_id</span><span class=si>}</span><span class=s2> not found in the flow."</span>
</span><span id=__span-0-159><a id=__codelineno-0-159 name=__codelineno-0-159></a>                <span class=p>)</span>
</span><span id=__span-0-160><a id=__codelineno-0-160 name=__codelineno-0-160></a>            <span class=n>chat_prerequisites</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>id_to_chat_id</span><span class=p>[</span><span class=n>chat_id</span><span class=p>])</span>
</span><span id=__span-0-161><a id=__codelineno-0-161 name=__codelineno-0-161></a>        <span class=n>chat</span><span class=o>.</span><span class=n>set_prerequisites</span><span class=p>(</span><span class=n>chat_prerequisites</span><span class=p>)</span>
</span><span id=__span-0-162><a id=__codelineno-0-162 name=__codelineno-0-162></a>    <span class=k>return</span> <span class=bp>self</span>
</span></code></pre></div></table></div></details></div></div></div></div></div></div></div></div></article></div><script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script></div><button class="md-top md-icon" data-md-component=top hidden type=button><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top</button></main><footer class=md-footer><nav class="md-footer__inner md-grid" aria-label=Footer><a aria-label="Previous: Chat" class="md-footer__link md-footer__link--prev" href=../chat/> <div class="md-footer__button md-icon"><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg></div> <div class=md-footer__title><span class=md-footer__direction> Previous </span><div class=md-ellipsis>Chat</div></div> </a><a aria-label="Next: Common" class="md-footer__link md-footer__link--next" href=../common/> <div class=md-footer__title><span class=md-footer__direction> Next </span><div class=md-ellipsis>Common</div></div> <div class="md-footer__button md-icon"><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg></div> </a></nav><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class=md-copyright><div class=md-copyright__highlight>Copyright © 2025 Waldiez</div> Made with <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank"> Material for MkDocs </a></div></div></div></footer></div><div class=md-dialog data-md-component=dialog><div class="md-dialog__inner md-typeset"></div></div><script id=__config type=application/json>{"base": "../..", "features": ["navigation.footer", "navigation.indexes", "navigation.instant", "navigation.sections", "navigation.top", "navigation.tracking", "toc.follow"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script><script src=../../assets/javascripts/bundle.60a45f97.min.js></script>